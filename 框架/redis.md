### Redis数据结构底层实现

#### String

 应用场景：String 缓存结构体用户信息，计数 

1.  Simple dynamic string（SDS）的数据结构 
2.  不会出现字符串变更造成的内存溢出问题 
3.  获取字符串长度时间复杂度为1 
4.  空间预分配， 惰性空间释放，会默认留够一定的空间防止多次重分配内存 

#### Hash

 应用场景：保存结构体信息可部分获取不用序列化所有字段 

1.  数组+链表的基础上，进行了一些rehash优化；Reids的Hash采用链地址法来处理冲突，然后它没有使用红黑树优化 
2.  哈希表节点采用单链表结构 
3.  rehash优化 （采用分而治之的思想，将庞大的迁移工作量划分到每一次CURD中，避免了服务繁忙） 

#### List

 应用场景：比如twitter的关注列表，粉丝列表等都可以用Redis的list结构来实现 

1.  list的实现为一个双向链表，即可以支持反向查找和遍历 

#### Set

 应用场景：去重的场景，交集（sinter）、并集（sunion）、差集（sdiff），实现如共同关注、共同喜好、二度好友等功能 

1.  内部实现是一个 value为null的HashMap，实际就是通过计算hash的方式来快速排重的，这也是set能提供判断一个成员 是否在集合内的原因 

#### Zset

 应用场景：实现延时队列 

1. 内部使用HashMap和跳跃表（SkipList）来保证数据的存储和有序，HashMap里放的是成员到score的映射，而跳跃表里存放的是所有的成员，排序依据是HashMap里存的score，使用跳跃表的结构可以获得比较高的查找效率，并且在实现上比较简单。跳表：每个节点中维持多个指向其他节点的指针，从而达到快速访问节点的目的 
2. hash表单个查询快，跳表进行范围查询快

 